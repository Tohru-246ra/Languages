# SQLクエリ(MySQL) サンプル
**SQL** (Structured Query Language) は<br>
データの挿入、更新、削除、取得等を行う**DML** (Data Manipulation Language) と<br>
データベースや表などを定義する**DDL** (Data Definition Language) に大別される。
## INDEX
* [DML(データの取得)](#DMLデータの取得)
* [DML(データの追加、更新、削除)](#DMLデータの挿入、更新、削除)
* [DDL](#DDL)  
* [その他](#その他)
# DML(データの取得)
データの取得では基本的に下のような形で記述をする。
```
SELECT 列名1,列名2, …
FROM 表名1,表名2, …
WHERE 条件;
```
#### 条件
**比較演算子**、**AND演算子**、**OR演算子**などが使える。<br>
特殊な条件としては<br>
"**ある文字を含むデータ**"  を取得したい時に用いる**LIKE演算子** `列名 LIKE "%文字列%" `<br>
"**NULLデータ**"  を取得したい時に用いる`列名 is NULL` などがある。<br>
LIKE演算子における `%` はワイルドカードである。
#### 並べ替え
WHERE の後ろに `ORDER BY 列名 並べ方` を置くことで並べ替えができる。<br>
**昇順**の時は`ASC` , **降順**の時は`DESC`を並べ方の場所に代入する。
#### 最大の指定
WHERE , ORDER BY の後ろに `LIMIT 自然数` を置くことで**取得するデータの最大数**を指定することができる。<br>
また下のように ORDER BY と LIMIT を組み合わせることで "**上位3位のデータ**" を取得することができる。
```
SELECT *
FROM 表名
WHERE 条件
ORDER BY 列名 DESC
LIMIT 3;
```
#### 集計関数
特定の列に対して `SELECT 関数名(列名)` の形で集計をする関数が存在する。以下にまとめる。
|関数名|機能|
|:---:|:---:|
|DISTICT|重複を省く|
|SUM|合計を計算|
|AVG|平均を計算|
|COUNT|データの個数を計算|
|MAX/MIN|最大/最小を計算|
#### グループ化
`GROUP BY 列名` でデータをグループ化することができる。<br>
グループを行う際は下のように SELECT には **GROUP BY で指定している列名** と **集計関数** しか来ない。
```
SELECT SUM(列名1),列名2,列名3
FROM 表名
WHERE 条件
GROUP BY 列名2,列名3
```
#### グループ化から更なる絞り込み
`HAVING 条件` でグループ化後に更なる絞り込みを行うことができる。<br>
グループ化後に絞り込みを行う特性から下のように **SELECT にある列名** しか条件に来ない。
```
SELECT SUM(列名1),列名2
FROM 表名
GROUP BY 列名2
HAVING SUM(列名1)>1000
```

# DML(データの追加、更新、削除)
# DDL

